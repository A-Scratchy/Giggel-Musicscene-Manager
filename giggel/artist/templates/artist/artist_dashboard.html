{% extends "main/base.html" %}
{% load static %}
{% block myProfile_active %}
{% endblock %}
{% block title %}Artist{% endblock %}

{% block headerText %}
  {{ user.artist.artist_name }}
{% endblock %}

{% block content %}
  <ul>
    <li id="artist_id">artist id:
      {{ user.artist.artist_id }}</li>
    <li id="artist_name">artist name:
      {{ user.artist.artist_name }}</li>
    <li id="artist_owner">artist owner:
      {{ user.artist.artist_owner }}</li>
    <li id="artist_description">artist description:
      {{ user.artist.artist_description }}</li>
  </ul>


<h1>My requests</h1>
<ul>
    {% for gig_request in object_list %}
    <li name="{{ gig_request.gig_request_name }}">
      <a id='request_id_{{ gig_request.gig_request_name }}' href="{% url 'gig_request_detail' gig_request.gig_request_id %}">{{ gig_request.gig_request_name }}</a>
      <p id='request_artist_name_{{ gig_request.gig_request_name }}'> -  {{ gig_request.gig_request_artist }} </p>
      <p id='request_venue_name_{{ gig_request.gig_request_name }}'> - {{ gig_request.gig_request_venue }} </p>


    </li>
    {% empty %}
        <li>We didn't find anything!</li>
    {% endfor %}
</ul>

  <!-- TODO refactor into reverse urls --!>

  <a id="artist_update" href="/artist/update/{{user.artist.artist_id}}"><button class=' alert alert-info'>Edit details</button><a/>
    <a id="artist_delete" href="/artist/delete/{{user.artist.artist_id}}"><button class='alert alert-danger'>Delete my artist</button><a/>
  {% endblock %}
