{% extends "main/base.html" %}
{% load static %}
{% block myProfile_active %}Artist -
  {{ user.Artist.artist_name }}
{% endblock %}
{% block title %}Artist{% endblock %}

{% block content %}

<div class="profile container p-5 text-center">
    <div class="row">
        <div class="col-sm">
            <img class="img-thumbnail profile_detail_pic" id="artist_profile_pic"
                 src="{{ MEDIA_URL }}{{ artist.artist_profile_pic}}"/>
        </div>
        <div class="col-sm">
            <h1 id="artist_name" class='name'>{{ artist.artist_name }}</h1>
            <h3 id="artist_genres" class='name'>{{ artist.artist_genres }}</h3>
            <h3 id="artist_location" class='name'>{{ artist.artist_location }}</h3>
            <P id="artist_description" class='description'>{{ artist.artist_description }}</P>
        </div>
    </div>
    {% if user.venue %}
    <div class="row">
        <div class="buttons">
            <a class="btn btn-outline-info" id='request_gig_from_artist'
               href="{% url 'gig_request' %}?gig_request_artist={{ artist.artist_id }}">
               Request artist to play at your venue</a>
        </div>
    </div>
    {% endif %}

    <div id="my_gigs" class="container card">
        <h1>My Gigs</h1>

        {% for gig in gigs %}
        <div class="row directory_entry m-2" id="link_{{ gig.gig_name }}">
            <div class="col">
            <a href="{% url 'gig_detail' gig.gig_id %}">
                {{ gig.gig_date }}</a></div>
            <div class="col">
            <a href="{% url 'artist_detail' gig.gig_artist.artist_id %}">
            {{ gig.gig_artist }}</a></div>
            <div class="col"><a href="{% url 'venue_detail' gig.gig_venue.venue_id %}">
            {{ gig.gig_venue }}</a></div>
         </div>
      {% empty %}
            <div class="row"><div class="col">
            <h3>No gigs :-(</h3></div></div>
      {% endfor %}
    </div>

</div>

{% endblock %}
